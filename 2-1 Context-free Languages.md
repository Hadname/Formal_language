# 2-1 Context-Free Languages

( 上下文無關語言 )

We have learned two different, thought equivalent, methods of describing languages: finite automata and regular expression. In this chapter we introduce a more powerful method of describing languages: __context-free grammars__

An important application of context-free grammars occurs in the specification and compilation of programming languages.

---

### Translation Process of Programming Language

1. Source program
2. Lexical analyzer ( 語彙分析 )
3. Parser ( 語法分析 )
4. Code generator
5. Object program

#### Example

Lexical analysis (語彙分析) is the process of recognizing

A __palindrome__ is a word that reads identical from both ends. For example, __madam__, __redivider__, __malayalam__, __010010010__. 即中文所說的 __回文__

Let L = { w | w is a binary palindrome }

Is L regular ? No

proof by _Pumping lemma_

* Let w = 0<sup>N</sup>10<sup>N</sup>
* By Pumping lemma, w can be rewritten as xyz, such taht xy<sup>k</sup>z is also L (for any k >= 0)

But L is a CFL (context-free language), because it supports recursive substitution (in the form of a CFG)

此例子舉例「回文」不是正規語言但卻是上下文無關語言

---

### Formal Definition of Context-Free Grammar

A context-free grammar is a __4-tuple (V, Σ, R, S)__

1. __V__ is a finite set called the variables. <br>( 有限個變數所成的集合)
2. __Σ__ is a finite set, disjoint from V, called the terminals.<br> (有限個終端的符號所成的集合 )
3. __R__ is a finite set of rules which are of the form A->x, where A ∈ V and x ∈ (V ∪ Σ)* <br>( 有限個替換的規則所成的集合 )
4. __S__ (S ∈ V) is the start variable.<br>( 起始變數 )

### Example

Grammar G<sub>1</sub>:

+ V = { A, B }
+ Σ = { 0, 1 , # }
+ S = A
+ R = { A -> 0A1, A -> B, B->#  }

Thus:

```
A -> 0A1 -> 0B1 -> 0#1
         -> 00A11 -> 00B11 -> 00#11
                  -> 000A111 -> 000B111 -> 000#111
```

L<sub>G1</sub>={ #, 0#1, 00#11,  000#111 }<br>
透過規則推導出符合此文法的字串 ( 稱 parse string 剖析數 )

### Some Definitions

+ Assume G is a context-free grammar. L(G) represents the set of strings generated by G. __Any language that can be generated by some context-free grammar is called a context-free language__. __( 所有能用context-free grammer 產生的語言稱為contex-free language )__

+ If u, v, and w are strings of varibales and terminals, and A->w is a rule, se say that uAv yields(產生) uwv, written uAv=>uwv. We say that __u derives v__, written u=>v, if u=v or if a sequence u=>u<sub>u1</sub>=>u<sub>2</sub>=>...=>u<sub>k</sub>

---

### Designing Context-Free Grammars (重點)

1. Many CFGs (Context-Free Grammar) are the union of simpler CFLs (Context-free language).<br>

2. If a language is regular, construct a DFA for that language and then convert DFA into an equivalent CFG.

3. Using the rule of the form __R-> uRv__ to generate strings wherein the portion containing the u's corresponds to the portion containing the v's.

4. To genetate strings that contain recursive structure, place the varibale (which generate the structure) in the location of the rules (which correspond to where that structure may recursively appear).

---

### Ambiguity (不考)

If a grammar generates a string that has several different parse tress, we say that the string is derived ambiguously in that grammar and the grammar is ambiguous. ( 如果一個文法可以產生不同的解析樹，我們稱為 Ambiguity ，這樣的文法就不是一個好的文法 )

When we say that a grammar generates __a string ambiguously__, we mean that __the string has two different parse trees__, __not two different derivations__.

A string w is derived ambiguously in context-free grammar G if it has two or more different leftmost derivations ( 字串由最左邊推導出兩種以上不同樹時 ). Grammar G is ambiguous if it generates some string ambiguosly.

![Ambiguity](C:\Users\liao2\OneDrive\文件\108學年度(上)\Formal_language\src\276eIKq.png)

---

### Chomsky Normal Form (不考)

A context-free grammar is in __Chomsky normal form if every rule of the from A->BC, A->a__, where a is any terminal and A, B, and C are any variables ─ except that B and C may not be the start variable. In addition we permit the rules S-> ε , where S is the start variable.

### Any Cotext-free Language is Generated by Chomsky Normal form
